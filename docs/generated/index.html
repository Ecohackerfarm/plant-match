<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>powerplant Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.flatly.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">powerplant</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="cli.html">cli</a></li><li><a href="cli.api-client.html">cli.api-client</a></li><li><a href="cli.cli.html">cli.cli</a></li><li><a href="client.html">client</a></li><li><a href="client.actions.html">client.actions</a></li><li><a href="client.actions.actionHelpers.html">client.actions.actionHelpers</a></li><li><a href="client.actions.bedActions.html">client.actions.bedActions</a></li><li><a href="client.actions.cropActions.html">client.actions.cropActions</a></li><li><a href="client.actions.headerActions.html">client.actions.headerActions</a></li><li><a href="client.actions.locationActions.html">client.actions.locationActions</a></li><li><a href="client.actions.userActions.html">client.actions.userActions</a></li><li><a href="client.components.html">client.components</a></li><li><a href="client.components.about.html">client.components.about</a></li><li><a href="client.components.about.AboutPage.html">client.components.about.AboutPage</a></li><li><a href="client.components.App.html">client.components.App</a></li><li><a href="client.components.beds.html">client.components.beds</a></li><li><a href="client.components.beds.AddBedForm.html">client.components.beds.AddBedForm</a></li><li><a href="client.components.beds.AddBedsForm.html">client.components.beds.AddBedsForm</a></li><li><a href="client.components.beds.BedItem.html">client.components.beds.BedItem</a></li><li><a href="client.components.beds.BedPage.html">client.components.beds.BedPage</a></li><li><a href="client.components.beds.BedsPage.html">client.components.beds.BedsPage</a></li><li><a href="client.components.beds.EditBedForm.html">client.components.beds.EditBedForm</a></li><li><a href="client.components.crops.html">client.components.crops</a></li><li><a href="client.components.crops.ChooseCrops.html">client.components.crops.ChooseCrops</a></li><li><a href="client.components.crops.CropGroup.html">client.components.crops.CropGroup</a></li><li><a href="client.components.crops.CropGroups.html">client.components.crops.CropGroups</a></li><li><a href="client.components.header.html">client.components.header</a></li><li><a href="client.components.header.Header.html">client.components.header.Header</a></li><li><a href="client.components.header.HeaderBrand.html">client.components.header.HeaderBrand</a></li><li><a href="client.components.header.HeaderLoginNav.html">client.components.header.HeaderLoginNav</a></li><li><a href="client.components.header.HeaderLogoutNav.html">client.components.header.HeaderLogoutNav</a></li><li><a href="client.components.locations.html">client.components.locations</a></li><li><a href="client.components.locations.AddLocationForm.html">client.components.locations.AddLocationForm</a></li><li><a href="client.components.locations.LocationItem.html">client.components.locations.LocationItem</a></li><li><a href="client.components.locations.LocationPage.html">client.components.locations.LocationPage</a></li><li><a href="client.components.locations.LocationsPage.html">client.components.locations.LocationsPage</a></li><li><a href="client.components.login.html">client.components.login</a></li><li><a href="client.components.login.LoginForm.html">client.components.login.LoginForm</a></li><li><a href="client.components.login.LoginPage.html">client.components.login.LoginPage</a></li><li><a href="client.components.Main.html">client.components.Main</a></li><li><a href="client.components.register.html">client.components.register</a></li><li><a href="client.components.register.RegisterForm.html">client.components.register.RegisterForm</a></li><li><a href="client.components.register.RegisterPage.html">client.components.register.RegisterPage</a></li><li><a href="client.components.shared.html">client.components.shared</a></li><li><a href="client.components.shared.CrudableList.html">client.components.shared.CrudableList</a></li><li><a href="client.components.shared.CrudableList.AddItemPage.html">client.components.shared.CrudableList.AddItemPage</a></li><li><a href="client.components.shared.CrudableList.CrudableListPage.html">client.components.shared.CrudableList.CrudableListPage</a></li><li><a href="client.components.shared.CrudableList.CrudableListPage.AddItemForm.html">client.components.shared.CrudableList.CrudableListPage.AddItemForm</a></li><li><a href="client.components.shared.CrudableList.CrudableListPage.ItemListView.html">client.components.shared.CrudableList.CrudableListPage.ItemListView</a></li><li><a href="client.reducers.html">client.reducers</a></li><li><a href="client.reducers.app.html">client.reducers.app</a></li><li><a href="client.reducers.auth.html">client.reducers.auth</a></li><li><a href="client.reducers.crops.html">client.reducers.crops</a></li><li><a href="client.reducers.currLocation.html">client.reducers.currLocation</a></li><li><a href="client.reducers.locations.html">client.reducers.locations</a></li><li><a href="client.reducers.title.html">client.reducers.title</a></li><li><a href="client.styles.html">client.styles</a></li><li><a href="client.utils.html">client.utils</a></li><li><a href="server.html">server</a></li><li><a href="server.middleware.html">server.middleware</a></li><li><a href="server.models.html">server.models</a></li><li><a href="server.processor.html">server.processor</a></li><li><a href="server.server.html">server.server</a></li><li><a href="server.utils.html">server.utils</a></li><li><a href="shared.html">shared</a></li><li><a href="shared.combinations.html">shared.combinations</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="cli.api-client.ApiClient.html">cli.api-client.ApiClient</a></li><li><a href="client.AppProvider.html">client.AppProvider</a></li><li><a href="client.components.about.AboutPage.AboutPage.html">client.components.about.AboutPage.AboutPage</a></li><li><a href="client.components.App.App.html">client.components.App.App</a></li><li><a href="client.components.beds.AddBedForm.AddBedForm.html">client.components.beds.AddBedForm.AddBedForm</a></li><li><a href="client.components.beds.AddBedsForm.AddBedForm.html">client.components.beds.AddBedsForm.AddBedForm</a></li><li><a href="client.components.beds.BedItem.BedItem.html">client.components.beds.BedItem.BedItem</a></li><li><a href="client.components.beds.BedPage.BedPage.html">client.components.beds.BedPage.BedPage</a></li><li><a href="client.components.beds.BedsPage.BedsPage.html">client.components.beds.BedsPage.BedsPage</a></li><li><a href="client.components.beds.EditBedForm.EditBedForm.html">client.components.beds.EditBedForm.EditBedForm</a></li><li><a href="client.components.crops.ChooseCrops.ChooseCrops.html">client.components.crops.ChooseCrops.ChooseCrops</a></li><li><a href="client.components.crops.CropGroup.CropGroup.html">client.components.crops.CropGroup.CropGroup</a></li><li><a href="client.components.crops.CropGroups.CropGroups.html">client.components.crops.CropGroups.CropGroups</a></li><li><a href="client.components.header.Header.Header.html">client.components.header.Header.Header</a></li><li><a href="client.components.header.HeaderBrand.HeaderBrand.html">client.components.header.HeaderBrand.HeaderBrand</a></li><li><a href="client.components.header.HeaderLoginNav.HeaderLoginNav.html">client.components.header.HeaderLoginNav.HeaderLoginNav</a></li><li><a href="client.components.header.HeaderLogoutNav.HeaderLogoutNav.html">client.components.header.HeaderLogoutNav.HeaderLogoutNav</a></li><li><a href="client.components.locations.AddLocationForm.AddLocationForm.html">client.components.locations.AddLocationForm.AddLocationForm</a></li><li><a href="client.components.locations.LocationItem.LocationItem.html">client.components.locations.LocationItem.LocationItem</a></li><li><a href="client.components.locations.LocationPage.LocationPage.html">client.components.locations.LocationPage.LocationPage</a></li><li><a href="client.components.locations.LocationsPage.LocationsPage.html">client.components.locations.LocationsPage.LocationsPage</a></li><li><a href="client.components.login.LoginForm.LoginForm.html">client.components.login.LoginForm.LoginForm</a></li><li><a href="client.components.login.LoginPage.Login.html">client.components.login.LoginPage.Login</a></li><li><a href="client.components.Main.Main.html">client.components.Main.Main</a></li><li><a href="client.components.Recover.html">client.components.Recover</a></li><li><a href="client.components.register.RegisterForm.RegisterForm.html">client.components.register.RegisterForm.RegisterForm</a></li><li><a href="client.components.register.RegisterPage.RegisterPage.html">client.components.register.RegisterPage.RegisterPage</a></li><li><a href="client.components.shared.SetHeaderTitle.html">client.components.shared.SetHeaderTitle</a></li><li><a href="client.components.shared.TextFieldGroup.html">client.components.shared.TextFieldGroup</a></li><li><a href="server.models.Crop.html">server.models.Crop</a></li><li><a href="server.models.CropRelationship.html">server.models.CropRelationship</a></li><li><a href="server.models.Location.html">server.models.Location</a></li><li><a href="server.models.User.html">server.models.User</a></li><li><a href="server.processor.Processor.html">server.processor.Processor</a></li><li><a href="server.processor.ProcessorException.html">server.processor.ProcessorException</a></li><li><a href="shared.combinations.Combinations.html">shared.combinations.Combinations</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	
	











	
	





    <section class="readme-section">
        <article><p>Developer Documentation for powerplant</p>
<p>Last updated: Feb 11, 2018</p>
<h1>Introduction</h1><p>powerplant is a full-stack JS web app utilizing several external services and
many interlocking components. The aim of this document is to help you, as a
developer, to get familiar with all parts of the software. It should act as a
roadmap, showing you where each functionality of the software lies, and where
each new functionality belongs.</p>
<p>Helpful external documentation:</p>
<ul>
<li><a href="https://reactjs.org/docs/thinking-in-react.html">Thinking in React</a></li>
<li><a href="http://restfulwebapis.org/RESTful_Web_Services.pdf">RESTful Web Services</a></li>
<li><a href="https://redux.js.org/docs/introduction/ThreePrinciples.html">Redux principles</a></li>
<li><a href="http://es6-features.org/">ECMAScript 6 overview</a></li>
<li><a href="http://usejsdoc.org/">JSDoc documentation</a></li>
<li><a href="https://webpack.js.org/concepts/">webpack concepts</a></li>
</ul>
<h1>Setup</h1><p>To start, you need to set up the development environment.</p>
<ol>
<li><a href="https://nodejs.org/en/download/current/">Install Node</a>. Version 9.x.</li>
<li><a href="https://www.mongodb.com/download-center#community">Install MongoDB</a> and
run <code>mongod</code>. Version 3.4.</li>
<li>Clone the <a href="https://github.com/Ecohackerfarm/powerplant.git">git repository</a></li>
<li>Run <code>npm install</code> to get all packages installed</li>
<li>Generate a private key in secrets.js (see secrets.example.js)</li>
<li>Run <code>npm start</code> to start the server</li>
<li>Run <code>npm run migrate</code> to migrate crop data from Firebase database</li>
<li>At this point everything should be set up. Run <code>npm test</code> to make sure
everything is working.</li>
<li>Done!</li>
</ol>
<p>It is also possible to run MongoDB in Docker:</p>
<ol>
<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#install-using-the-repository">Install Docker</a></li>
<li>Install the <a href="https://hub.docker.com/_/mongo/">Mongo Docker image</a> by
running <code>docker pull mongo</code></li>
<li>Start the Docker image by running <code>npm run mongo</code></li>
</ol>
<p>The project may not run properly after reboot because it fails to
connect to the database. Running <code>docker restart pp_main</code> fixes the
issue.</p>
<h1>Common Mistakes</h1><h2>Server doesn't start:</h2><pre class="prettyprint source"><code>/Users/adinajohnson/repos/powerplant/server/middleware.js:88
async function getAuthenticatedUser(req, next) {
      ^^^^^^^^
SyntaxError: Unexpected token function
  ...
[nodemon] app crashed - waiting for file changes before starting...</code></pre><p>This looks like you didn't install the right version of NodeJS (power plant needs &gt;9.4.0). So install the right Version: https://nodejs.org/en/download/current/ .</p>
<h2>Server doesn't start after NodeJS update:</h2><pre class="prettyprint source"><code>Error: The module '/home/justus/workspace/powerplant/node_modules/bcrypt/lib/binding/bcrypt_lib.node'
was compiled against a different Node.js version using
NODE_MODULE_VERSION 48. This version of Node.js requires
NODE_MODULE_VERSION 59. Please try re-compiling or re-installing
the module (for instance, using `npm rebuild` or `npm install`).</code></pre><p>This means you updated NodeJS and the easiest way to solve this is to run.</p>
<pre class="prettyprint source lang-bash"><code>rm -R node_modules && npm install</code></pre><h1>Architecture</h1><p>Users use web browser to operate on a powerplant system. The system is
composed of three main components: UI, client and server. UI is the front
end, while client and server are the back end. An important aspect of the
system design is that most functionality may be used offline. Therefore most
calculations are done on the client side while the server is mostly used for
persisting data and for synchronization.</p>
<p>UI is running in the browser and it is using the client component to perform
calculations and to persist data by communicating with the server. Our plan
is to eventually build a generic client component that is used by the web UI,
the CLI, and by third-party software.</p>
<h3>UI</h3><p>UI is built with React. The code is written in a subset of ES6 that is
natively supported by modern versions of most web browsers. Babel is used to
translate JSX to JS, and that is the only thing that gets translated. Webpack
is used to bundle all UI modules together, and it is using the Node module
format with <code>require</code>.</p>
<h4>Redux store</h4><p>Redux is the be-all-end-all of the state of the application (with very
few exceptions, like form state). Every bit of user data is stored in
redux. The store has the following architecture:</p>
<pre class="prettyprint source"><code>    {
      title: String (default: &quot;powerplant&quot;), // the title that will be displayed in the window
      auth: {
        isAuthenticated: Bool (default: false),
        currentUser: User (default: null),
      },
      currLocation: Location (default: null),
      locations: [Location] (default: []),
      beds: [Bed] (default: []),
      crops: [Crop] (default: []),
      cropInfos: [CropInformation] (default: []),
      cropRelationships: [CropRelationship] (default: [])
    }</code></pre><p>In addition, the <code>redux-persist</code> module saves the redux store in local
storage and reloads (&quot;rehydrates&quot;) it every time the user visits the
website. This is what allows users to save data without registering, and
speeds up the process of displaying registered users' data. It also
means that the website can be used offline if the page is loaded first.</p>
<h3>CLI</h3><p>The CLI is used for migrating crop data and for administration tasks. To keep
everything properly synchronized the database is never modified directly, but
always through the server even for administration tasks.</p>
<p>Eventually the CLI and the UI should be using a common client component.</p>
<h3>Server</h3><p>The server is a Node application. The code is written in a subset of ES6 that
is natively supported by Node/V8. There are three main components in the
server: Express HTTP server (<code>server/server.js</code>), middleware
(<code>server/middleware.js</code>) and Processor (<code>server/processor.js</code>).</p>
<p>Middleware consists of functions that handle HTTP requests and produce
responses to them. These functions are called by the Express HTTP server, and
they use the services of the Processor object to access data and to perform
calculations.</p>
<p>Processor is the only component that has access to the database. It uses
mongoose to connect to a MongoDB database. Processor consists of async
methods that operate on the database data. Sometimes these operations want
to access the same part of data at the same time. To solve this problem,
Processor places each operation to a queue and lets only compatible
operations to run in parallel.</p>
<h4>Database structure</h4><p>Crop schema</p>
<pre class="prettyprint source"><code>binomialName:String
commonName:String</code></pre><hr>
<p>CropRelationship schema</p>
<pre class="prettyprint source"><code>crop0:ObjectId(Crop)
crop1:ObjectId(Crop)
compatibility:Number</code></pre><h1>Coding style</h1><ul>
<li>Use a subset of ES6 that is natively supported by both Node and web
browsers.</li>
<li>Define React components always with <code>class</code> instead of functions.</li>
</ul>
<h1>Developer documentation</h1><p>Developer documentation consists of this overview of the structure of the
project, and API documentation that is generated with JSDoc.</p>
<p>The documentation is also available
<a href="https://ecohackerfarm.github.io/powerplant">online</a>, and it should be
regenerated at least when this overview is updated.</p>
<p>Documentation should be kept synchronized with code. If you find something
that is missing in this overview, or a function that lacks a jsdoc comment,
fix it.</p>
<h3>JSDoc conventions</h3><p>Every directory and every file is marked with <code>@namespace</code>. For directories,
this is done in file <code>index.js</code>. At the top of each file there should be a
jsdoc comment with the following structure. Take for example the file
<code>server/models/crop.js</code>:</p>
<pre class="prettyprint source"><code>/**
 * Mongoose model for crops.
 *
 * @namespace crop
 * @memberof server.models
 */</code></pre><hr>
<p>Every function should have a jsdoc comment that documents the parameters
(<code>@param</code>) and the return value (<code>@return</code>). For example:</p>
<pre class="prettyprint source"><code>/**
 * Try to login with the given credentials.
 * 
 * @param {Object} credentials Username and password
 * @return {Object} Authorization token
 */
async login(credentials) {</code></pre><hr>
<p>Every class should have a jsdoc comment like this:</p>
<pre class="prettyprint source"><code>/**
 * Represents the main content area of the application, in contrast to
 * Header which is the main navigation component.
 * 
 * @extends Component
 */
class Main extends React.Component {</code></pre><h1>Tests</h1><p>You can run tests with the <code>npm test</code> command. Note that in order to
test the server code correctly, the tests must be able to connect to the
mongo docker image. This connection happens in <code>/test/server/init.js</code>.
You also need to have migrated the data to the mongodb database with
<code>npm run migrate</code>. If you ever get a few odd failed tests (&quot;cannot get
property '_id'&quot; or something like that), it's possible you forgot to
migrate the data.</p>
<p>Tests are stored in the <code>/test</code> folder. The structure of this folder
should mirror the root file structure. This makes it easy to find the
test module for any module. Tests should be written for every component
that contains business logic or helper functions, as well as every API
route. No tests need to be written for external library functions (like
Mongoose <code>Models</code>). However, if you write an extensions to an external
function, like a query function for a Mongoose <code>Model</code>, that should be
tested.</p>
<p>Whenever possible, use unit testing to test a single component separate
from the rest of the codebase.</p>
<p>If isolation is not possibe, integration tests are ok too. This is
necessary for API tests, and possibly also for database functions.</p>
<p>All tests are dispatched with Mocha and use the <code>expect</code> function from
the assertion library Chai. API tests use supertest to create requests.</p>
<h3>Mocha</h3><p>https://mochajs.org/</p>
<p>Mocha is the test-running framework which is used to organize the tests.
It is used by the <code>npm test</code> command as the environment in which the
tests are run, so it does not need to be imported in any of the test
classes.</p>
<p>We use the BDD (behaviour-drive-development) syntax, so the main
functions used to organize tests are <code>describe</code> and <code>it</code>. <code>describe</code> is
used to separate modules and functionalities within modules, and <code>it</code> is
used to describe a specific behaviour. Generally, tests for a module are
organized with two levels of <code>describe</code>, the first being the name of the
module, and the second being for a specific function or functionality.
Test code then goes within an <code>it</code> function in the second.</p>
<p>For example:</p>
<pre class="prettyprint source"><code>    describe('data-validation', () => { // module name
        describe('#idValidation()', () => { // function name
            it('should validate a correct id', () = > {
                // test code goes here
            });
        });
        describe('#getCompanionshipScores()', () => { // other function name
        it('should return correct scores', () => {
    // test code goes here
    });
        });
    });</code></pre><p>or</p>
<pre class="prettyprint source"><code>    describe('authReducer', () => { // module name
        describe('SET_CURRENT_USER', () => { //not a function, but a specific functionality
            it(&quot;should set the current user&quot;, () => {
                // test code goes here
            });
        });
    });</code></pre><p>Mocha tests run synchronously, but it does support asynchronous test
code through the use of promises. To test asynchronous code, simply have
the <code>it</code> function return a promise. The next test will not execute until
the promise is resolved.</p>
<h3>Chai</h3><p>http://chaijs.com/, <a href="https://gist.github.com/yoavniran/1e3b0162e1545055429e">cheat
sheet</a></p>
<p>Tests use the <code>expect</code> function of Chai to assert that all things are as
they should be. Each <code>expect</code> call is an opportunity for a test to fail.
If all <code>expect</code> calls in an <code>it()</code> function pass, the test passes. Chai
supports function chaining to create self-documenting tests. See the
cheat sheet above for an overview of the functions.</p>
<h3>Supertest</h3><p>https://www.npmjs.com/package/supertest</p>
<p>Supertest allows testing of network request-based functionality (REST
API routes, in our case). See the tests in <code>/test/server/routes/api/</code>
for examples. A supertest request return a promise, so it can be
returned in an <code>it</code> function and the test will wait until the request
completes to continue.</p></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on Sunday, March 4th 2018, 1:34:59 pm
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>